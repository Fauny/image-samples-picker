{"version":3,"sources":["webpack:///static/js/app.d37c0519f243e908efca.js","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/App.vue?b6a0","webpack:///./src/main.js"],"names":["webpackJsonp","CNEf","module","exports","NHnr","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","vue_esm","get_iterator","get_iterator_default","n","App","name","data","fileList","file","x","y","w","h","cursor","mProps","b","onTopEdge","onLeftEdge","onRightEdge","onBottomEdge","output","computed","paneClass","width","this","height","top","left","watch","$refs","img","src","URL","createObjectURL","methods","keydown","e","console","log","key","shiftKey","record","getCircle","p","rects","push","load","calc","pane","getBoundingClientRect","clientX","clientY","canMove","mdPane","isResizing","clicked","cx","cy","isMoving","target","focus","muPane","mmPane","Math","max","currentWidth","currentHeight","main","scrollTop","scrollLeft","make","line","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","f","length","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","err","return","$nextTick","clip","copyText","out","select","document","execCommand","alert","openFile","files","del","i","splice","render","_vm","_h","$createElement","_c","_self","attrs","id","ref","staticClass","on","mouseup","mousemove","_l","style","click","$event","_e","tabindex","dblclick","mousedown","preventDefault","type","accept","change","if","_v","class","active","_s","directives","rawName","expression","domProps","input","composing","staticRenderFns","esExports","selectortype_template_index_0_src_App","normalizeComponent","__vue_styles__","Component","src_App","config","productionTip","el","template","components"],"mappings":"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","file":"static/js/app.d37c0519f243e908efca.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"CNEf\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.esm.js\nvar vue_esm = __webpack_require__(\"7+uW\");\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/get-iterator.js\nvar get_iterator = __webpack_require__(\"BO1k\");\nvar get_iterator_default = /*#__PURE__*/__webpack_require__.n(get_iterator);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar MARGINS = 6,\n    minWidth = 20,\n    minHeight = 20;\n// FULLSCREEN_MARGINS = -10\n\n/* harmony default export */ var App = ({\n    name: 'app',\n    data: function data() {\n        return {\n            fileList: [],\n            file: null,\n            x: 0,\n            y: 0,\n            w: 100,\n            h: 100,\n            cursor: 'default',\n\n            mProps: {\n                b: null,\n                x: 0,\n                y: 0,\n                onTopEdge: false,\n                onLeftEdge: false,\n                onRightEdge: false,\n                onBottomEdge: false\n            },\n\n            output: ''\n        };\n    },\n\n    computed: {\n        paneClass: function paneClass() {\n            return {\n                width: this.w + 'px',\n                height: this.h + 'px',\n                top: this.y + 'px',\n                left: this.x + 'px',\n                cursor: this.cursor\n            };\n        }\n    },\n    watch: {\n        file: function file() {\n            if (this.file) {\n                this.$refs.img.src = URL.createObjectURL(this.file.file);\n            }\n        }\n    },\n    methods: {\n        keydown: function keydown(e) {\n            console.log(e);\n            switch (e.key) {\n                case 'ArrowLeft':\n                    this.w--;\n                    if (e.shiftKey) this.h = this.w;\n                    break;\n                case 'ArrowUp':\n                    this.h--;\n                    if (e.shiftKey) this.w = this.h;\n                    break;\n                case 'ArrowRight':\n                    this.w++;\n                    if (e.shiftKey) this.h = this.w;\n                    break;\n                case 'ArrowDown':\n                    this.h++;\n                    if (e.shiftKey) this.w = this.h;\n                    break;\n                case ('ShiftLeft', 'ShiftRight'):\n                    this.w = this.h;\n                    break;\n                case ('Space', 'Enter'):\n                    this.record();\n                    break;\n            }\n        },\n        getCircle: function getCircle(p) {\n            return {\n                left: p.x,\n                top: p.y,\n                width: p.w,\n                height: p.h\n            };\n        },\n        record: function record() {\n            if (this.file) {\n                this.file.rects.push({\n                    x: this.x,\n                    y: this.y,\n                    w: this.w,\n                    h: this.h\n                });\n            }\n        },\n        load: function load(p) {\n            this.x = p.x;\n            this.y = p.y;\n            this.w = p.w;\n            this.h = p.h;\n        },\n        calc: function calc(e) {\n            this.mProps.b = this.$refs.pane.getBoundingClientRect();\n            this.mProps.x = e.clientX - this.mProps.b.left;\n            this.mProps.y = e.clientY - this.mProps.b.top;\n\n            this.mProps.onTopEdge = this.mProps.y < MARGINS;\n            this.mProps.onLeftEdge = this.mProps.x < MARGINS;\n            this.mProps.onRightEdge = this.mProps.x >= this.mProps.b.width - MARGINS;\n            this.mProps.onBottomEdge = this.mProps.y >= this.mProps.b.height - MARGINS;\n        },\n        canMove: function canMove() {\n            return this.mProps.x > 0 && this.mProps.x < this.mProps.b.width && this.mProps.y > 0 && this.mProps.y < this.mProps.b.height;\n        },\n        mdPane: function mdPane(e) {\n            this.calc(e);\n\n            var isResizing = this.mProps.onRightEdge || this.mProps.onBottomEdge || this.mProps.onTopEdge || this.mProps.onLeftEdge;\n\n            this.clicked = {\n                x: this.mProps.x,\n                y: this.mProps.y,\n                cx: e.clientX,\n                cy: e.clientY,\n                w: this.mProps.b.width,\n                h: this.mProps.b.height,\n                isResizing: isResizing,\n                isMoving: !isResizing && this.canMove(),\n                onTopEdge: this.mProps.onTopEdge,\n                onLeftEdge: this.mProps.onLeftEdge,\n                onRightEdge: this.mProps.onRightEdge,\n                onBottomEdge: this.mProps.onBottomEdge\n            };\n\n            e.target.focus();\n        },\n        muPane: function muPane(e) {\n            this.clicked = null;\n        },\n        mmPane: function mmPane(e) {\n            this.calc(e);\n            var clicked = this.clicked;\n            if (this.clicked && this.clicked.isResizing) {\n                if (clicked.onRightEdge) {\n                    this.w = Math.max(this.mProps.x, minWidth);\n                }\n                if (clicked.onBottomEdge) {\n                    this.h = Math.max(this.mProps.y, minHeight);\n                }\n\n                if (clicked.onLeftEdge) {\n                    var currentWidth = Math.max(clicked.cx - e.clientX + clicked.w, minWidth);\n                    if (currentWidth > minWidth) {\n                        this.w = currentWidth;\n                        this.x = e.clientX;\n                    }\n                }\n\n                if (clicked.onTopEdge) {\n                    var currentHeight = Math.max(clicked.cy - e.clientY + clicked.h, minHeight);\n                    if (currentHeight > minHeight) {\n                        this.h = currentHeight;\n                        this.y = e.clientY;\n                    }\n                }\n\n                return;\n            }\n\n            if (clicked && clicked.isMoving) {\n                this.y = e.clientY - clicked.y + this.$refs.main.scrollTop;\n                this.x = e.clientX - clicked.x + this.$refs.main.scrollLeft;\n\n                return;\n            }\n\n            if (this.mProps.onRightEdge && this.mProps.onBottomEdge || this.mProps.onLeftEdge && this.mProps.onTopEdge) {\n                this.cursor = 'nwse-resize';\n            } else if (this.mProps.onRightEdge && this.mProps.onTopEdge || this.mProps.onBottomEdge && this.mProps.onLeftEdge) {\n                this.cursor = 'nesw-resize';\n            } else if (this.mProps.onRightEdge || this.mProps.onLeftEdge) {\n                this.cursor = 'ew-resize';\n            } else if (this.mProps.onBottomEdge || this.mProps.onTopEdge) {\n                this.cursor = 'ns-resize';\n                // } else if (this.canMove()) {\n                //     this.cursor = 'move'\n            } else {\n                this.cursor = 'default';\n            }\n        },\n        make: function make() {\n            var line;\n            this.output = '';\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = get_iterator_default()(this.fileList), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var f = _step.value;\n\n                    if (f.rects.length) {\n                        line = f.name + ' ' + f.rects.length;\n                        var _iteratorNormalCompletion2 = true;\n                        var _didIteratorError2 = false;\n                        var _iteratorError2 = undefined;\n\n                        try {\n                            for (var _iterator2 = get_iterator_default()(f.rects), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                var p = _step2.value;\n\n                                line += ' ' + p.x + ' ' + p.y + ' ' + p.w + ' ' + p.h;\n                            }\n                        } catch (err) {\n                            _didIteratorError2 = true;\n                            _iteratorError2 = err;\n                        } finally {\n                            try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                    _iterator2.return();\n                                }\n                            } finally {\n                                if (_didIteratorError2) {\n                                    throw _iteratorError2;\n                                }\n                            }\n                        }\n\n                        this.output += line + '\\n';\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            if (this.output) {\n                this.$nextTick(this.clip);\n            }\n        },\n        clip: function clip() {\n            var copyText = this.$refs.out;\n            copyText.select();\n            document.execCommand('Copy');\n            alert('Copied the text: ' + copyText.value);\n        },\n        openFile: function openFile(e) {\n            this.file = {\n                name: e.target.files[0].name,\n                rects: [],\n                file: e.target.files[0]\n            };\n            this.fileList.push(this.file);\n        },\n        del: function del(i) {\n            this.file.rects.splice(i, 1);\n        }\n    }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-701bce7c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{ref:\"main\",staticClass:\"main\",on:{\"mouseup\":_vm.muPane,\"mousemove\":_vm.mmPane}},[_c('img',{ref:\"img\"}),(_vm.file)?_vm._l((_vm.file.rects),function(p,i){return _c('div',{key:\"i\",staticClass:\"circle\",style:({top:p.y + p.h/2 + 'px', left:p.x + p.w/2 + 'px'}),on:{\"click\":function($event){_vm.load(p)}}})}):_vm._e(),_c('div',{ref:\"pane\",style:(_vm.paneClass),attrs:{\"id\":\"pane\",\"tabindex\":\"1\"},on:{\"dblclick\":_vm.record,\"keydown\":_vm.keydown,\"mousedown\":function($event){$event.preventDefault();_vm.mdPane($event)}}})],2),_c('div',{staticClass:\"side\"},[_c('input',{ref:\"if\",attrs:{\"type\":\"file\",\"id\":\"fileInput\",\"name\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.openFile}}),_c('div',[_c('button',{on:{\"click\":function($event){_vm.$refs.if.click()}}},[_vm._v(\"AddFile\")]),_c('button',{on:{\"click\":_vm.make}},[_vm._v(\"Make & Copy\")])]),_c('div',{staticClass:\"file-list\"},[_vm._v(\" files:\"),_c('ul',[_vm._l((_vm.fileList),function(f){return _c('li',{key:f.name,class:{active:f==_vm.file},on:{\"click\":function($event){_vm.file=f}}},[_vm._v(_vm._s(f.name))])}),(_vm.fileList.length==0)?_c('li',[_vm._v(\"no image file\")]):_vm._e()],2)]),(_vm.file)?_c('div',{staticClass:\"positions\"},[_vm._v(\"sample rects:\"),_c('ul',[_vm._l((_vm.file.rects),function(p,i){return _c('li',{key:\"i\",on:{\"click\":function($event){_vm.load(p)}}},[_vm._v(_vm._s(i+1)+\": \"+_vm._s(p.x)+\" \"+_vm._s(p.y)+\" \"+_vm._s(p.w)+\" \"+_vm._s(p.h)),_c('span',{on:{\"click\":function($event){_vm.del(i)}}},[_vm._v(\"X\")])])}),(_vm.file.rects.length==0)?_c('li',[_vm._v(\"no rect selected, double click rect selecotr to add\")]):_vm._e()],2)]):_vm._e(),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.output),expression:\"output\"}],ref:\"out\",domProps:{\"value\":(_vm.output)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.output=$event.target.value}}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_App = (esExports);\n// CONCATENATED MODULE: ./src/App.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"CNEf\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  App,\n  selectortype_template_index_0_src_App,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_App = (Component.exports);\n\n// CONCATENATED MODULE: ./src/main.js\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\nvue_esm[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew vue_esm[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: src_App }\n});\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.d37c0519f243e908efca.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-701bce7c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-701bce7c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template lang=\"pug\">\n  div#app\n    div.main(ref=\"main\"\n          @mouseup=\"muPane\" \n          @mousemove=\"mmPane\")\n      img(ref=\"img\")\n      template(v-if=\"file\")\n        div.circle(\n            v-for=\"(p,i) in file.rects\" \n            :style=\"{top:p.y + p.h/2 + 'px', left:p.x + p.w/2 + 'px'}\"\n            key=\"i\" \n            @click=\"load(p)\")\n      div#pane(ref=\"pane\"\n        :style=\"paneClass\"\n        @dblclick=\"record\"\n        @keydown=\"keydown\"\n        tabindex=\"1\"\n        @mousedown.prevent=\"mdPane\")\n    div.side \n      input(ref='if' type=\"file\" id=\"fileInput\" name=\"file\" accept=\"image/*\" @change=\"openFile\")\n      div \n        button(@click='$refs.if.click()') AddFile\n        button(@click=\"make\") Make & Copy\n        //- button(@click=\"clip\") Clipboard\n      div.file-list \n        | files:\n        ul\n          li(v-for=\"f in fileList\" :key=\"f.name\" @click=\"file=f\" :class=\"{active:f==file}\") {{f.name}}\n          li(v-if=\"fileList.length==0\") no image file\n      div.positions(v-if=\"file\")\n        | sample rects:\n        ul\n          li(v-for=\"(p,i) in file.rects\" key=\"i\" @click=\"load(p)\")\n            | {{i+1}}: {{p.x}} {{p.y}} {{p.w}} {{p.h}}\n            span(@click=\"del(i)\") X\n          li(v-if=\"file.rects.length==0\") no rect selected, double click rect selecotr to add\n      textarea(ref=\"out\" v-model=\"output\")\n</template>\n\n<script>\nconst MARGINS = 6,\n    minWidth = 20,\n    minHeight = 20\n// FULLSCREEN_MARGINS = -10\n\nexport default {\n    name: 'app',\n    data() {\n        return {\n            fileList: [],\n            file: null,\n            x: 0,\n            y: 0,\n            w: 100,\n            h: 100,\n            cursor: 'default',\n\n            mProps: {\n                b: null,\n                x: 0,\n                y: 0,\n                onTopEdge: false,\n                onLeftEdge: false,\n                onRightEdge: false,\n                onBottomEdge: false\n            },\n\n            output: ''\n        }\n    },\n    computed: {\n        paneClass: function() {\n            return {\n                width: this.w + 'px',\n                height: this.h + 'px',\n                top: this.y + 'px',\n                left: this.x + 'px',\n                cursor: this.cursor\n            }\n        }\n    },\n    watch: {\n        file() {\n            if (this.file) {\n                this.$refs.img.src = URL.createObjectURL(this.file.file)\n            }\n        }\n    },\n    methods: {\n        keydown(e) {\n            console.log(e)\n            switch (e.key) {\n                case 'ArrowLeft':\n                    this.w--\n                    if (e.shiftKey) this.h = this.w\n                    break\n                case 'ArrowUp':\n                    this.h--\n                    if (e.shiftKey) this.w = this.h\n                    break\n                case 'ArrowRight':\n                    this.w++\n                    if (e.shiftKey) this.h = this.w\n                    break\n                case 'ArrowDown':\n                    this.h++\n                    if (e.shiftKey) this.w = this.h\n                    break\n                case ('ShiftLeft', 'ShiftRight'):\n                    this.w = this.h\n                    break\n                case ('Space', 'Enter'):\n                    this.record()\n                    break\n            }\n        },\n        getCircle(p) {\n            return {\n                left: p.x,\n                top: p.y,\n                width: p.w,\n                height: p.h\n            }\n        },\n        record() {\n            if (this.file) {\n                this.file.rects.push({\n                    x: this.x,\n                    y: this.y,\n                    w: this.w,\n                    h: this.h\n                })\n            }\n        },\n        load(p) {\n            this.x = p.x\n            this.y = p.y\n            this.w = p.w\n            this.h = p.h\n        },\n        calc(e) {\n            this.mProps.b = this.$refs.pane.getBoundingClientRect()\n            this.mProps.x = e.clientX - this.mProps.b.left\n            this.mProps.y = e.clientY - this.mProps.b.top\n\n            this.mProps.onTopEdge = this.mProps.y < MARGINS\n            this.mProps.onLeftEdge = this.mProps.x < MARGINS\n            this.mProps.onRightEdge =\n                this.mProps.x >= this.mProps.b.width - MARGINS\n            this.mProps.onBottomEdge =\n                this.mProps.y >= this.mProps.b.height - MARGINS\n        },\n        canMove() {\n            return (\n                this.mProps.x > 0 &&\n                this.mProps.x < this.mProps.b.width &&\n                this.mProps.y > 0 &&\n                this.mProps.y < this.mProps.b.height\n            )\n        },\n        mdPane(e) {\n            this.calc(e)\n\n            var isResizing =\n                this.mProps.onRightEdge ||\n                this.mProps.onBottomEdge ||\n                this.mProps.onTopEdge ||\n                this.mProps.onLeftEdge\n\n            this.clicked = {\n                x: this.mProps.x,\n                y: this.mProps.y,\n                cx: e.clientX,\n                cy: e.clientY,\n                w: this.mProps.b.width,\n                h: this.mProps.b.height,\n                isResizing: isResizing,\n                isMoving: !isResizing && this.canMove(),\n                onTopEdge: this.mProps.onTopEdge,\n                onLeftEdge: this.mProps.onLeftEdge,\n                onRightEdge: this.mProps.onRightEdge,\n                onBottomEdge: this.mProps.onBottomEdge\n            }\n\n            e.target.focus()\n        },\n        muPane(e) {\n            this.clicked = null\n        },\n        mmPane(e) {\n            this.calc(e)\n            var clicked = this.clicked\n            if (this.clicked && this.clicked.isResizing) {\n                if (clicked.onRightEdge) {\n                    this.w = Math.max(this.mProps.x, minWidth)\n                }\n                if (clicked.onBottomEdge) {\n                    this.h = Math.max(this.mProps.y, minHeight)\n                }\n\n                if (clicked.onLeftEdge) {\n                    var currentWidth = Math.max(\n                        clicked.cx - e.clientX + clicked.w,\n                        minWidth\n                    )\n                    if (currentWidth > minWidth) {\n                        this.w = currentWidth\n                        this.x = e.clientX\n                    }\n                }\n\n                if (clicked.onTopEdge) {\n                    var currentHeight = Math.max(\n                        clicked.cy - e.clientY + clicked.h,\n                        minHeight\n                    )\n                    if (currentHeight > minHeight) {\n                        this.h = currentHeight\n                        this.y = e.clientY\n                    }\n                }\n\n                return\n            }\n\n            if (clicked && clicked.isMoving) {\n                this.y = e.clientY - clicked.y + this.$refs.main.scrollTop\n                this.x = e.clientX - clicked.x + this.$refs.main.scrollLeft\n\n                return\n            }\n\n            if (\n                (this.mProps.onRightEdge && this.mProps.onBottomEdge) ||\n                (this.mProps.onLeftEdge && this.mProps.onTopEdge)\n            ) {\n                this.cursor = 'nwse-resize'\n            } else if (\n                (this.mProps.onRightEdge && this.mProps.onTopEdge) ||\n                (this.mProps.onBottomEdge && this.mProps.onLeftEdge)\n            ) {\n                this.cursor = 'nesw-resize'\n            } else if (this.mProps.onRightEdge || this.mProps.onLeftEdge) {\n                this.cursor = 'ew-resize'\n            } else if (this.mProps.onBottomEdge || this.mProps.onTopEdge) {\n                this.cursor = 'ns-resize'\n                // } else if (this.canMove()) {\n                //     this.cursor = 'move'\n            } else {\n                this.cursor = 'default'\n            }\n        },\n        make() {\n            var line\n            this.output = ''\n            for (var f of this.fileList) {\n                if (f.rects.length) {\n                    line = f.name + ' ' + f.rects.length\n                    for (var p of f.rects) {\n                        line += ` ${p.x} ${p.y} ${p.w} ${p.h}`\n                    }\n                    this.output += line + '\\n'\n                }\n            }\n\n            if (this.output) {\n                this.$nextTick(this.clip)\n            }\n        },\n        clip() {\n            var copyText = this.$refs.out\n            copyText.select()\n            document.execCommand('Copy')\n            alert('Copied the text: ' + copyText.value)\n        },\n        openFile(e) {\n            this.file = {\n                name: e.target.files[0].name,\n                rects: [],\n                file: e.target.files[0]\n            }\n            this.fileList.push(this.file)\n        },\n        del(i) {\n            this.file.rects.splice(i, 1)\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n* {\n    margin: 0;\n    padding: 0;\n}\nhtml,\nbody,\n#app {\n    width: 100%;\n    height: 100%;\n}\n#app {\n    display: flex;\n    .main {\n        flex: 1;\n        height: 100%;\n        overflow: auto;\n        position: relative;\n        img {\n            position: absolute;\n        }\n        #pane {\n            position: absolute;\n            border: 2px solid #ff000077;\n        }\n        .circle {\n            position: absolute;\n            background-color: #fff;\n            border: 1px solid lime;\n            border-radius: 50%;\n            width: 10px;\n            height: 10px;\n        }\n    }\n    .side {\n        height: 100%;\n        width: 260px;\n        border-left: solid 2px silver;\n        > div {\n            border-top: solid 2px silver;\n        }\n\n        ul {\n            li {\n                list-style: none;\n                cursor: pointer;\n                &.active {\n                    color: blue;\n                }\n                span {\n                    float: right;\n                    margin-right: 0.5em;\n                    &:hover {\n                        color: red;\n                    }\n                }\n            }\n        }\n\n        button {\n            width: 40%;\n            padding: 0.5em;\n            margin: 0.5em;\n        }\n        input[type='file'] {\n            display: none;\n        }\n        textarea {\n            width: 90%;\n        }\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{ref:\"main\",staticClass:\"main\",on:{\"mouseup\":_vm.muPane,\"mousemove\":_vm.mmPane}},[_c('img',{ref:\"img\"}),(_vm.file)?_vm._l((_vm.file.rects),function(p,i){return _c('div',{key:\"i\",staticClass:\"circle\",style:({top:p.y + p.h/2 + 'px', left:p.x + p.w/2 + 'px'}),on:{\"click\":function($event){_vm.load(p)}}})}):_vm._e(),_c('div',{ref:\"pane\",style:(_vm.paneClass),attrs:{\"id\":\"pane\",\"tabindex\":\"1\"},on:{\"dblclick\":_vm.record,\"keydown\":_vm.keydown,\"mousedown\":function($event){$event.preventDefault();_vm.mdPane($event)}}})],2),_c('div',{staticClass:\"side\"},[_c('input',{ref:\"if\",attrs:{\"type\":\"file\",\"id\":\"fileInput\",\"name\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.openFile}}),_c('div',[_c('button',{on:{\"click\":function($event){_vm.$refs.if.click()}}},[_vm._v(\"AddFile\")]),_c('button',{on:{\"click\":_vm.make}},[_vm._v(\"Make & Copy\")])]),_c('div',{staticClass:\"file-list\"},[_vm._v(\" files:\"),_c('ul',[_vm._l((_vm.fileList),function(f){return _c('li',{key:f.name,class:{active:f==_vm.file},on:{\"click\":function($event){_vm.file=f}}},[_vm._v(_vm._s(f.name))])}),(_vm.fileList.length==0)?_c('li',[_vm._v(\"no image file\")]):_vm._e()],2)]),(_vm.file)?_c('div',{staticClass:\"positions\"},[_vm._v(\"sample rects:\"),_c('ul',[_vm._l((_vm.file.rects),function(p,i){return _c('li',{key:\"i\",on:{\"click\":function($event){_vm.load(p)}}},[_vm._v(_vm._s(i+1)+\": \"+_vm._s(p.x)+\" \"+_vm._s(p.y)+\" \"+_vm._s(p.w)+\" \"+_vm._s(p.h)),_c('span',{on:{\"click\":function($event){_vm.del(i)}}},[_vm._v(\"X\")])])}),(_vm.file.rects.length==0)?_c('li',[_vm._v(\"no rect selected, double click rect selecotr to add\")]):_vm._e()],2)]):_vm._e(),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.output),expression:\"output\"}],ref:\"out\",domProps:{\"value\":(_vm.output)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.output=$event.target.value}}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-701bce7c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}